/**
 * @smuuf/idleCat by Premysl Karbula,
 * https://github.com/smuuf/jquery-idlecat/
 *
 * Built on 2016-05-21.
 */
(function(a,b,c){var d="idleCat";var e={interval:20,release:360,state:"active",fireOnInit:true,activeCallback:function(){},idleCallback:function(){}};var f=a(c);var g=null;var h=null;var i=null;var j=null;function k(b,c){this.e=b;this.options=a.extend({},e,c);this._defaults=e;this._name=d;this.state=this.options.state;this.release=this.options.release||0;this.releaseTimer=false;this.init()}k.prototype.init=function(){if(this.options.fireOnInit){if(this.state=="active"){this.options.activeCallback.call(this.e)}else if(this.state=="idle"){this.options.idleCallback.call(this.e)}}this.handleInterval()};k.prototype.handleInterval=function(){this.handleDetection();b.setInterval(function(a){return function(){a.handleDetection()}}(this),this.options.interval*1e3)};k.prototype.handleDetection=function(){if(this.detectMovement()){if(this.state=="idle")this.options.activeCallback.call(this.e);this.state="active";if(this.releaseTimer)b.clearTimeout(this.releaseTimer)}else{if(this.state=="active"){self=this;this.releaseTimer=b.setTimeout(function(){self.options.idleCallback.call(self.e);self.state="idle"},this.options.release*1e3);this.state="releasing"}}};k.prototype.detectMovement=function(){f.one("mousemove",function(a){g=a.pageX;h=a.pageY});var a=g!=i||h!=j;i=g;j=h;return a};k.prototype.getState=function(){return this.state};a.fn[d]=function(b){var c;this.each(function(){if(!a.data(this,"plugin_"+d)){a.data(this,"plugin_"+d,c=new k(this,b))}});return c}})(jQuery,window,document);